import{_ as M,b as t,i as ee,o,c as s,a as e,w as $,j as ae,F as _,r as g,t as u,u as B,v as N,e as oe,n as E,p as j,d as z,k as C,f as F,l as V}from"./index-Du6GS4nX.js";import{s as se}from"./servicioIngredientesLogeado-Bbl5wH6p.js";import{S as te}from"./servicioIngredientes-CWbiDZJm.js";import{V as ne}from"./VentanaToast-Bwk1dkzL.js";import{d as x,c as le,a as ie,b as ue}from"./cantidades.helper-CQYEJ_OI.js";const G=p=>(j("data-v-2311ae5b"),p=p(),z(),p),ce={class:"bus"},re=G(()=>e("h1",null,"Busca tus ingredientes",-1)),de={class:"tipo"},ve=G(()=>e("span",null,"Selecciona por tipo de ingrediente",-1)),_e=G(()=>e("option",{value:"null"},"Selecciona un tipo",-1)),pe=["value"],me={class:"buscador"},he={class:"paginacion"},fe=["disabled"],ge={class:"prueba"},Ie=["onClick"],be={__name:"PanelIngredientesLogeado",emits:["ingredienteSeleccionado"],setup(p,{expose:T,emit:v}){const r=t(""),c=t(""),i=t(1),h=se;h.cargarIngredientesLogeado();const I=h.ingredientesUsuario,b=new te,y=b.tipos;b.cargarTipos();const P=v;T({limpiarPanel:w});function m(){h.cargarIngredientesLogeado({nombre:r.value,tipo:c.value,pagina:i.value})}function L(){i.value=1,m()}const R=()=>{I.value.length>=20&&(i.value++,m())},D=()=>{i.value>1&&(i.value--,m())};function k(d){d.seleccionado||(d.seleccionado=!0,P("ingredienteSeleccionado",d),console.log(d))}ee(c,()=>{m()});function w(){I.value.forEach(d=>{d.seleccionado=!1,r.value="",c.value="",i.value=1}),m()}return(d,S)=>(o(),s(_,null,[e("div",ce,[re,e("form",null,[e("div",de,[ve,$(e("select",{"onUpdate:modelValue":S[0]||(S[0]=l=>c.value=l)},[_e,(o(!0),s(_,null,g(B(y),l=>(o(),s("option",{key:l.tipo,value:l.tipo},u(l.tipo),9,pe))),128))],512),[[ae,c.value]])]),e("div",me,[$(e("input",{type:"search","onUpdate:modelValue":S[1]||(S[1]=l=>r.value=l),placeholder:"Busca por una palabra"},null,512),[[N,r.value]])]),e("button",{onClick:oe(L,["prevent"])},"Buscar")])]),e("div",he,[e("button",{onClick:D,disabled:i.value===1},"Anterior",8,fe),e("span",null,"Página "+u(i.value),1),e("button",{onClick:R},"Siguiente")]),e("div",ge,[(o(!0),s(_,null,g(B(I),l=>(o(),s("div",{class:E(["card",{seleccionado:l.seleccionado}]),key:l.id,onClick:O=>k(l)},[e("p",null,u(l.nombre),1)],10,Ie))),128))])],64))}},ke=M(be,[["__scopeId","data-v-2311ae5b"]]),n=p=>(j("data-v-a904a79d"),p=p(),z(),p),Se={class:"recetas-usuario-view"},Ae=n(()=>e("div",null,[e("h1",null,"Recetas"),e("h2",null,"Crear receta")],-1)),ye={class:"contenedor"},Pe={class:"pasos"},Ce=n(()=>e("h2",null,"PASO 1",-1)),Ee=n(()=>e("h3",null,"Ingresa el número de personas",-1)),Te={class:"numero-personas"},Le=n(()=>e("span",null,"Número de personas:",-1)),Re=n(()=>e("h2",null,"PASO 2",-1)),De=n(()=>e("h3",null,"Elige el ingrediente principal",-1)),we={class:"listaIngredientes"},Ve=n(()=>e("h2",null,"PASO 3",-1)),$e=n(()=>e("h3",null,"Elige el acompañamiento",-1)),Ue={class:"listaIngredientes"},Ne=n(()=>e("h2",null,"PASO 4",-1)),xe=n(()=>e("h3",null,"Elige los condimentos para hacer la receta",-1)),Ge={class:"listaIngredientes"},Oe=n(()=>e("h2",null,"PASO 5",-1)),Be=n(()=>e("h3",null,"Finaliza la receta escribiendo una descripcion si es necesario",-1)),Fe=n(()=>e("h3",null,"¿Qué tal si compartes tu receta con la comunidad?",-1)),Me={class:"descripcion"},je={key:0},ze={class:"panel"},Je={key:1,class:"resumen"},Qe=n(()=>e("h2",null,"Resumen de la Receta",-1)),qe=n(()=>e("h3",null,"Principal",-1)),Ze={class:"listaIngredientes"},He=n(()=>e("h3",null,"Acompañamiento",-1)),Ke={class:"listaIngredientes"},We=n(()=>e("h3",null,"Condimentos",-1)),Xe={class:"listaIngredientes"},Ye=n(()=>e("h3",null,[e("strong",null,"Descripción:")],-1)),ea={class:"descripcionFinal"},aa={class:"textoFinal"},oa=n(()=>e("h3",null,"¿QUIERES PASAR TU RECETA A LA LISTA DE LA COMPRA?",-1)),sa=n(()=>e("h3",null,"Agrega un nombre a tu receta",-1)),ta={class:"toast"},na={__name:"RecetasLogeadoView",setup(p){const T=t(""),v=t(1),r=t([]),c=t([]),i=t([]),h=t(""),I=t(!1),b=t(!1),y=t(!1),P=t(!1),m=t(null),L=t(null),R=t(null),D=t(null),k=t(1),w=t(null),d=t(!1),S=t(!1),l=t(!1),O=t("¡Receta agragada a la lista de la compra!");function J(){l.value=!0,setTimeout(()=>{l.value=!1,window.location.reload()},2e3)}function U(){w.value&&w.value.limpiarPanel()}function Q(){I.value=!0,d.value=!0,V(()=>{m.value&&m.value.scrollIntoView({behavior:"smooth",block:"center"}),U()})}function q(){b.value=!0,V(()=>{L.value&&L.value.scrollIntoView({behavior:"smooth",block:"center"}),U()})}function Z(){y.value=!0,V(()=>{R.value&&R.value.scrollIntoView({behavior:"smooth",block:"center"}),U()})}function H(){P.value=!0,V(()=>{D.value&&D.value.scrollIntoView({behavior:"smooth",block:"center"}),U()})}function K(A){I.value&&!b.value&&r.value.push(le(A,v.value)),b.value&&!y.value&&c.value.push(ie(A,v.value)),y.value&&!P.value&&i.value.push(ue(A,v.value)),P.value}function W(){r.value=x(r.value),c.value=x(c.value),i.value=x(i.value),V(()=>{d.value=!1,S.value=!0})}function X(){let A=JSON.parse(localStorage.getItem("recetasUsuario"))||[];A.push({nombre:T.value,numeroDePersonas:v.value,principal:r.value,acompanamiento:c.value,condimentos:i.value,descripcion:h.value}),localStorage.setItem("recetasUsuario",JSON.stringify(A)),J()}return(A,f)=>(o(),s(_,null,[e("div",Se,[Ae,e("div",ye,[e("div",Pe,[e("div",{class:E(["p1",{active:k.value.value===1}])},[Ce,Ee,e("div",Te,[e("label",null,[Le,$(e("input",{type:"number","onUpdate:modelValue":f[0]||(f[0]=a=>v.value=a),min:"1"},null,512),[[N,v.value]])])]),e("button",{onClick:Q},"SIGUIENTE")],2),I.value?(o(),s("div",{key:0,class:E(["p2",{active:k.value.value===2}]),ref_key:"div2",ref:m},[Re,De,e("div",we,[e("ol",null,[(o(!0),s(_,null,g(r.value,(a,Y)=>(o(),s("li",{key:Y},u(a.nombre),1))),128))])]),e("button",{onClick:q},"SIGUIENTE")],2)):C("",!0),b.value?(o(),s("div",{key:1,class:E(["p3",{active:k.value.value===3}]),ref_key:"div3",ref:L},[Ve,$e,e("div",Ue,[e("ol",null,[(o(!0),s(_,null,g(c.value,a=>(o(),s("li",{key:a.id},u(a.nombre),1))),128))])]),e("button",{onClick:Z},"SIGUIENTE")],2)):C("",!0),y.value?(o(),s("div",{key:2,class:E(["p4",{active:k.value.value===4}]),ref_key:"div4",ref:R},[Ne,xe,e("div",Ge,[e("ol",null,[(o(!0),s(_,null,g(i.value,a=>(o(),s("li",{key:a.id},u(a.nombre),1))),128))])]),e("button",{onClick:H},"SIGUIENTE")],2)):C("",!0),P.value?(o(),s("div",{key:3,class:E(["p5",{active:k.value.value===5}]),ref_key:"div5",ref:D},[Oe,Be,Fe,e("div",Me,[$(e("textarea",{"onUpdate:modelValue":f[1]||(f[1]=a=>h.value=a)},null,512),[[N,h.value]]),e("button",{onClick:W},"FINALIZAR")])],2)):C("",!0)]),d.value?(o(),s("div",je,[e("div",ze,[F(ke,{onIngredienteSeleccionado:K,ref_key:"panelIngredientesLogeadoRef",ref:w},null,512)])])):C("",!0),S.value?(o(),s("div",Je,[Qe,e("h3",null,"Para "+u(v.value)+" "+u(v.value===1?"persona":"personas"),1),qe,e("div",Ze,[e("ol",null,[(o(!0),s(_,null,g(r.value,a=>(o(),s("li",{key:a.id},u(a.nombre)+" - "+u(a.cantidad)+" Grs",1))),128))])]),He,e("div",Ke,[e("ol",null,[(o(!0),s(_,null,g(c.value,a=>(o(),s("li",{key:a.id},u(a.nombre)+" - "+u(a.cantidad)+" Grs",1))),128))])]),We,e("div",Xe,[e("ol",null,[(o(!0),s(_,null,g(i.value,a=>(o(),s("li",{key:a.id},u(a.nombre)+" - "+u(a.cantidad)+" Grs",1))),128))])]),Ye,e("pre",ea,u(h.value),1),e("div",aa,[oa,sa,$(e("input",{type:"text","onUpdate:modelValue":f[2]||(f[2]=a=>T.value=a)},null,512),[[N,T.value]]),e("button",{onClick:f[3]||(f[3]=a=>X())},"AGREGAR A LA LISTA DE LA COMPRA")])])):C("",!0)])]),e("div",ta,[F(ne,{verToast:l.value,mensajeToast:O.value},null,8,["verToast","mensajeToast"])])],64))}},da=M(na,[["__scopeId","data-v-a904a79d"]]);export{da as default};
