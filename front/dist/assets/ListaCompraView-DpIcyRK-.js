import{_ as w,b as m,c as s,a as e,F as u,r as p,t as n,u as x,k as I,w as B,v as q,g as V,o,p as j,d as M}from"./index-Du6GS4nX.js";import{h as z}from"./html2pdf-BJIkh2LN.js";import"./_commonjsHelpers-C4iS2aBk.js";const d=_=>(j("data-v-a2cd9ada"),_=_(),M(),_),J={class:"pagRecetas"},U=["onClick"],$={key:0,class:"container"},H={class:"resumen"},K={class:"datosRecetas"},Q={class:"cabezeraResumen"},W={class:"pasosResumen"},X=d(()=>e("h2",null,"Principal",-1)),Y={class:"listaIngredientes"},Z={class:"pasosResumen"},ee=d(()=>e("h2",null,"Acompañamiento",-1)),ae={class:"listaIngredientes"},se={class:"pasosResumen"},oe=d(()=>e("h2",null,"Condimentos",-1)),te={class:"listaIngredientes"},ne={class:"pieResumen"},le=d(()=>e("h2",null,[e("strong",null,"Descripción:")],-1)),ce={class:"descripcionFinal"},re={class:"listaFinal"},ie=d(()=>e("h2",null," Estas son las cantidades de ingredientes que tienes que comprar para las recetas que has creado: ",-1)),ue={class:"ingredientesFinales"},de={key:0,class:"compraAñadida"},me=d(()=>e("h2",null,"Estos son los productos que añadiste",-1)),pe={class:"ingredientesAñadidos"},ve={class:"compraAñadida"},_e=d(()=>e("h2",null,"Puedes agregar productos a la lista de la compra",-1)),he={class:"agregarCompra"},fe={__name:"ListaCompraView",setup(_){const l=m([]),t=m(l.value[0]),v=m(0),h=m([]),f=m({nombre:""}),R=m(null),E=V();b();function b(){l.value=JSON.parse(localStorage.getItem("recetas")||"[]"),g(),console.log(l.value)}function S(c){t.value=c}function g(){l.value.length>0?t.value=l.value[v.value]:(t.value=null,window.alert("No hay recetas guardadas, por favor crea una receta en la zona de RECETAS"),E.push({name:"recetas"}))}function y(){v.value<l.value.length-1&&(v.value++,g())}function D(){v.value>0&&(v.value--,g())}function P(){const c=l.value.filter(r=>r.nombre!==t.value.nombre);c.length===0?localStorage.removeItem("recetas"):localStorage.setItem("recetas",JSON.stringify(c)),b(),t.value=null}function F(){localStorage.removeItem("recetas"),b(),t.value=null,E.push({name:"recetas"})}function T(c){const r={};return c.forEach(A=>{["principal","acompañamiento","condimentos"].forEach(k=>{A[k]&&A[k].forEach(i=>{const C=i.nombre;r[C]?r[C].cantidad+=i.cantidad:r[C]={nombre:i.nombre,cantidad:i.cantidad,tipo:i.tipo,principal:i.principal,acompañamiento:i.acompañamiento,condimento:i.condimento}})})}),Object.values(r)}const O=T(l.value);function N(){h.value.push({...f.value}),f.value={nombre:"",cantidad:0}}function G(){h.value=[]}const L=()=>{const c={margin:1,filename:"lista-de-compras.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};R.value&&z().set(c).from(R.value).save()};return(c,r)=>(o(),s(u,null,[e("div",J,[(o(!0),s(u,null,p(l.value,a=>(o(),s("div",{key:a.nombre},[e("button",{onClick:A=>S(a)},n(a.nombre),9,U)]))),128))]),t.value?(o(),s("div",$,[e("div",H,[e("div",{class:"pag"},[e("button",{onClick:D},"RECETA ANTERIOR"),e("button",{onClick:y},"SIGUIENTE RECETA")]),e("div",K,[e("div",Q,[e("h1",null,"Receta: "+n(t.value.nombre),1),e("h2",null," Para "+n(t.value.numeroDePersonas)+" "+n(t.value.numeroDePersonas===1?"persona":"personas"),1)]),e("div",W,[X,e("div",Y,[e("ol",null,[(o(!0),s(u,null,p(t.value.principal,a=>(o(),s("li",{key:a.id},n(a.nombre)+" - "+n(a.cantidad)+" Grs ",1))),128))])])]),e("div",Z,[ee,e("div",ae,[e("ol",null,[(o(!0),s(u,null,p(t.value.acompanamiento,a=>(o(),s("li",{key:a.id},n(a.nombre)+" - "+n(a.cantidad)+" Grs ",1))),128))])])]),e("div",se,[oe,e("div",te,[e("ol",null,[(o(!0),s(u,null,p(t.value.condimentos,a=>(o(),s("li",{key:a.id},n(a.nombre)+" - "+n(a.cantidad)+" Grs ",1))),128))])])]),e("div",ne,[le,e("pre",ce,n(t.value.descripcion),1)])]),e("div",{class:"borrar"},[e("button",{onClick:P},"BORRAR RECETA SELECCIONADA"),e("button",{onClick:F},"BORRAR TODAS LAS RECETAS")])]),e("div",re,[e("div",{class:"PDF",ref_key:"generarPDFRef",ref:R},[ie,e("div",ue,[e("ul",null,[(o(!0),s(u,null,p(x(O),a=>(o(),s("li",{key:a.nombre},n(a.nombre)+" - "+n(a.cantidad)+" Grs ",1))),128))])]),h.value.length>0?(o(),s("div",de,[me,e("div",pe,[e("ul",null,[(o(!0),s(u,null,p(h.value,a=>(o(),s("li",{key:a.nombre},n(a.nombre),1))),128))])])])):I("",!0)],512),e("div",ve,[_e,e("div",he,[B(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=a=>f.value.nombre=a),placeholder:"Nombre del producto"},null,512),[[q,f.value.nombre]]),e("button",{onClick:N}," Agregar a la lista de la compra "),e("button",{onClick:G},"BORRAR COMPRA AGREGADA")])]),e("div",{class:"btnPdf"},[e("button",{onClick:L},"Generar PDF")])])])):I("",!0)],64))}},Ae=w(fe,[["__scopeId","data-v-a2cd9ada"]]);export{Ae as default};
