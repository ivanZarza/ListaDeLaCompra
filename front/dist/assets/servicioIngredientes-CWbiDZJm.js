import{b as n}from"./index-Du6GS4nX.js";const o={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"http://api-tucompra.izarza.dev"},{VITE_API_URL:s}=o;class l{constructor(){this.ingredientes=n([]),this.tipos=n([]),this.porTipo=n([])}async cargarIngredientes({nombre:e=null,tipo:a=null,pagina:t=null}={}){const i=new URL(`${s}/api/listadelacompra/ingredientes`);e&&i.searchParams.append("nombre",e),a&&i.searchParams.append("tipo",a),t&&i.searchParams.append("pagina",t);const r=await(await fetch(i,{credentials:"include"})).json();this.ingredientes.value=r.resultados}async cargarTipos(){const a=await(await fetch(`${s}/api/listadelacompra/ingredientes/tipo`)).json();this.tipos.value=a}async cargarPorTipo(e){const t=await(await fetch(`${s}/ingredientes/tipo/${e}`)).json();this.porTipo.value=t}async agregarIngrediente(e){const a=await fetch(`${s}/ingredientes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});this.ingredientes.value.push(await a.json())}async eliminarIngrediente(e){await fetch(`${s}/ingredientes/${e}`,{method:"DELETE"}),this.ingredientes.value=this.ingredientes.value.filter(a=>a.id!==e)}async actualizarIngrediente(e){await fetch(`${s}/ingredientes/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),this.ingredientes.value=this.ingredientes.value.map(a=>a.id===e.id?e:a)}}export{l as S};
